@section styles
{
    @*<link href="~/Content/Sidebar.css" rel="stylesheet" />*@
    @*<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/jquery-ui.min.js"></script>*@
    @*   <script src="//cdn.jsdelivr.net/jquery.ui-contextmenu/1.7.0/jquery.ui-contextmenu.min.js"></script>*@

    <link href="//cdn.datatables.net/1.10.6/css/jquery.dataTables.min.css" rel="stylesheet" />

    @*  <link href="//cdn.datatables.net/colvis/1.1.1/css/dataTables.colVis.css" rel="stylesheet" />*@
    <link href="~/Content/dataTables.colVis.css" rel="stylesheet" />
    @*<link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/themes/south-street/jquery-ui.min.css" rel="stylesheet" type="text/css" />*@
    <link href="~/Content/FancyTree/skin-xp/ui.fancytree.css" rel="stylesheet" />

}
<script type='text/javascript' src="http://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=places,geometry"></script>








<div class="_container">
    <div class="row">
        <div id="pageloaddiv"></div>
        <div id="tabSelector" class=""></div>

        <ul class="nav nav-tabs" id="myTab">
            <li class="active navbar-custom"><a href="#map" id="mapTab" data-toggle="tab"><span class="glyphicon glyphicon-globe"></span> Map</a></li>
            <li class="navbar-custom disabled"><a href="#graph" id="graphTab" data-toggle="tab"><span class="glyphicon glyphicon-home"></span> Graph</a></li>
            <li class="navbar-custom data"><a href="#dataview" id="tableTab" data-toggle="tab"><span class="glyphicon glyphicon-list"></span> Data</a></li>
        </ul>
    </div>
    <div class="tab-content">
        <div class="tab-pane" id="dataview">
            <div class="modal-header-full" style="margin-top: 2.5em;">
                <h3 class="modal-title" id="myModalLabel">List of Timeseries in area - from index.cshtml</h3>
                <h5 style="margin-bottom: 1em;">To download one or more data files (in CSV format), please click the associated table row(s) and then click the 'Download Selections' button.</h5>
            </div>
            <table width="100%" id="dtTimeseries" class="display" cellspacing="0">
                <thead>
                    <tr>
                        <th>SeriesId</th>
                        <th>ServCode</th>
                        <th>ServURL</th>
                        <th>SiteCode</th>
                        <th>VariableCode</th>
                        <th>VariableName</th>
                        <th>BeginDate</th>
                        <th>EndDate</th>
                        <th>ValueCount</th>
                        <th>SiteName</th>
                        <th>Latitude</th>
                        <th>Longitude</th>
                        <th>DataType</th>
                        <th>ValueType</th>
                        <th>SampleMedium</th>
                        <th>TimeUnit</th>
                        <th>GeneralCategory</th>
                        <th>TimeSupport</th>
                        <th>ConceptKeyword</th>
                        <th>IsRegular</th>
                        <th>VariableUnits</th>
                        <th>Citation</th>
                    </tr>
                </thead>

                <tfoot>
                    <tr>
                        <th>SeriesId</th>
                        <th>ServCode</th>
                        <th>ServURL</th>
                        <th>SiteCode</th>
                        <th>VariableCode</th>
                        <th>VariableName</th>
                        <th>BeginDate</th>
                        <th>EndDate</th>
                        <th>ValueCount</th>
                        <th>SiteName</th>
                        <th>Latitude</th>
                        <th>Longitude</th>
                        <th>DataType</th>
                        <th>ValueType</th>
                        <th>SampleMedium</th>
                        <th>TimeUnit</th>
                        <th>GeneralCategory</th>
                        <th>TimeSupport</th>
                        <th>ConceptKeyword</th>
                        <th>IsRegular</th>
                        <th>VariableUnits</th>
                        <th>Citation</th>
                    </tr>
                </tfoot>
            </table>
        </div>
        <div class="tab-pane active" id="map">
            <!-- Right panel -->
            <div id="slider" class="side-panel side-panel-right">
                <div id="menu">
                    @*   <div><img class="expander" alt="Expand" src="~/Content/Images/closetop.png" /></div>*@
                    <div class="" id="selectors">
                        <form id="Search" class="navbar-form form-group glyphicon-align-center" role="search">
                            <!-- Button trigger modal -->
                            <button class="btn btn-primary btn-block" data-toggle="modal" data-target="#SelectDateModal">Select Date</button>
                            <button class="btn btn-primary btn-block" data-toggle="modal" data-target="#SelectVariableModal">Select Concepts(s)</button>
                            <button class="btn btn-primary btn-block" data-toggle="modal" data-target="#SelectServicesModal">Select Services(s)</button>

                            <div id="SelectedDateRange">

                            </div>
                            <br />
                                <!-- For click handler see webclient.js $("#Search").submit(function (e) -->
                            <button type="submit" class="btn btn-success btn-block">Search Map</button><br />
                            <button id="clear" type="button" class="btn btn-warning btn-block"> Clear map </button>


                        </form>
                    </div>
                </div>

            </div>
            <div class="_row">
                <div class="map">
                    <div id="map-canvas">

                    </div>

                    <!-- BC - TEST - Add an area for the download manager... -->
                    <div style="position:absolute; top: 12em; left: 1em;">
                        <div style="position:relative; display: inline; float: left">
                            <div id="downloadManager" style="position:relative; display:none; float: left; background-color: white">
                                <div class="container">
                                    <div class="row">
                                        <!-- word-wrap: break-word - Allow long words to break and wrap to next line.
                                             white-space:pre-wrap - Preserve white space in browser.  Wrap text when necessary and on line breaks. -->
                                        <table id="tblDownloadManager" class="table table-bordered table-hover" style="word-wrap: break-word; white-space:pre-wrap;">
                                            <caption style="font-weight:bold; font-size:2em;">Download Manager</caption>
                                            <thead>
                                                <tr style="height: 3em;" class="active">
                                                    <th class="col-sm-1 text-center" style="vertical-align: middle;">Request ID</th>
                                                    <th class="col-sm-2 text-center" style="vertical-align: middle;">Current Status</th>
                                                    <th class="col-sm-3 text-center" style="vertical-align: middle;">Time Series URI</th>
                                                    <th class="col-sm-1 text-center" style="vertical-align: middle;"><input type="button" id="btnDownloadAll" value="Download All" /></th>
                                                    <th class="col-sm-2 text-center" style="vertical-align: middle;"><label><input type="checkbox" id="chkbxAutoDownload" />&nbsp;Auto Download?</label></th>
                                                </tr>
                                            </thead>
                                            <tbody></tbody>
                                            <tfoot>
                                                @*<tr>
                            <td>Footer text goes here</td>
                        </tr>*@
                                            </tfoot>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="glyphicon glyphicon-hand-right expander2" title="Click to open the Download Manager..." style="font-size: 3em; float:left; margin-left: 0.5em;"></div>
                        </div>
                    </div>

                    <input id="pac-input" class="searchbarcontrols" type="text"
                           placeholder="Enter a location"/>
                    <div id="type-selector" class="searchbarcontrols hidden">
                        <input type="radio" name="type" id="changetype-all" checked="checked">
                        <label for="changetype-all">All</label>

                        @*<input type="radio" name="type" id="changetype-establishment">
                            <label for="changetype-establishment">Establishments</label>

                            <input type="radio" name="type" id="changetype-address">
                            <label for="changetype-address">Addresses</label>*@

                        <input type="radio" name="type" id="changetype-geocode">
                        <label for="changetype-geocode">Geocodes</label>
                    </div>

                    @*<h1 id="home">
                            <a id="menu-toggle" href="#" class="glyphicon glyphicon-align-justify ">
                                <i class="fa fa-bars"></i>
                            </a>

                        </h1>*@
                </div>

            </div>
        </div>
        <div class="tab-pane" id="graph">A timeseries viewer will be available soon!</div>
    </div>
</div>
@*</div>*@



<!-- Modal -->
<div class="modal fade" id="SelectDateModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3 class="modal-title" id="myModalLabel">Please select your date range:</h3>

            </div>
            <div class="modal-body">
                <div class="col-md-12">
                    <div class="row">
                        <div class="input-daterange">
                            <input id="startDate" value="02/12/2010" />
                            <span class="add-on">to</span>
                            <input id="endDate" value=@DateTime.Now.ToShortDateString() />
                            <button type="button" class="btn btn-default btn-primary" data-dismiss="modal">Save</button>
                        </div>
                        </div>
                    </div>
                   
            </div>
            <div class="modal-footer">
                
            </div>

            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
</div>
<!-- Modal -->
<div class="modal fade" id="SelectVariableModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3 class="modal-title" id="myModalLabel">Please select your concept/variable(s) </h3>
                <h6>(No selection searches all)</h6>

            </div>
            <div class="modal-body">
                <div class="col-md-12">
                    <div class="tabbable">
                        <!-- Only required for left/right tabs -->
                        <ul class="nav nav-tabs">
                            <li class="active"><a href="#tab1" data-toggle="tab">Common</a></li>
                            <li><a href="#tab2" data-toggle="tab">Hierarchy</a></li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane active" id="tab1">
                                <div class="row">
                                    <div class="controls col-md-4">
                                        <label class="checkbox">
                                            <input type="checkbox" name="keywords" value="Temperature" id="inlineCheckbox2" class="topCategories"> Temperature
                                        </label>
                                        <label class="checkbox">
                                            <input type="checkbox" name="keywords" value="Precipitation" id="inlineCheckbox3" class="topCategories"> Precipitation
                                        </label>
                                        <label class="checkbox">
                                            <input type="checkbox" name="keywords" value="Discharge, stream" id="inlineCheckbox7" class="topCategories"> Streamflow
                                        </label>
                                        <label class="checkbox">
                                            <input type="checkbox" name="keywords" value="Salinity" id="inlineCheckbox3" class="topCategories"> Salinity
                                        </label>
                                    </div>
                                    <div class="controls col-md-4">
                                        <label class="checkbox">
                                            <input type="checkbox" name="keywords" value="Humidity" id="inlineCheckbox4" class="topCategories"> Humidity
                                        </label>
                                        <label class="checkbox">
                                            <input type="checkbox" name="keywords" value="Iron" id="inlineCheckbox5" class="topCategories"> Iron
                                        </label>
                                        <label class="checkbox">
                                            <input type="checkbox" name="keywords" value="Lead" id="inlineCheckbox6" class="topCategories"> Lead
                                        </label>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" id="btnTopSelect" class="btn btn-default btn-primary" data-dismiss="modal">Save</button>
                                </div>
                            </div>
                            <div class="tab-pane" id="tab2">
                                <p>
                                    <label>Filter:</label>
                                    <input name="search" placeholder="Filter...">
                                    <button id="btnResetSearch">&times;</button>
                                    <span id="matches"></span>
                                </p>
                                @*<p>
                                        <label for="hideMode">
                                            <input type="checkbox" id="hideMode">
                                            Hide unmatched nodes
                                        </label>
                                        <label for="leavesOnly">
                                            <input type="checkbox" id="leavesOnly">
                                            Leaves only
                                        </label>

                                        <label for="regex">
                                            <input type="checkbox" id="regex">
                                            Regular expression
                                        </label>
                                    </p>
                                    <p id="sampleButtons">
                                    </p>*@


                                <div id="tree" data-source="ajax" class="sampletree">


                                </div>
                                <div class="modal-footer">
                                    <button type="button" id="btnHierarchySelect" class="btn btn-default btn-primary" data-dismiss="modal">Save</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



            </div>
        </div>
    </div>


    <!-- /.modal-content -->
</div>
<!-- /.modal-dialog -->
<!-- Modal -->
<div class="modal fade full-screen" id="SelectServicesModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog-full">
        <div class="modal-content-full">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3 class="modal-title" id="myModalLabel">Click to select Services (No selection searches all)</h3>
            </div>
            <div class="modal-body-full">
                <table id="dtServices" class="display" cellspacing="0" >
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Organization</th>
                            <th>ServiceCode</th>
                            <th>Title</th>
                            <th>DescriptionUrl</th>
                            <th>ServiceUrl</th>
                            <th>Checked</th>                            
                            <th>Sites</th>
                            <th>Variables</th>
                            <th>Values</th>
                            <th>ServiceBoundingBox</th>
                        </tr>
                    </thead>

                    <tfoot>
                        <tr>
                            <th>ID</th>
                            <th>Organization</th>
                            <th>ServiceCode</th>
                            <th>Title</th>
                            <th>DescriptionUrl</th>
                            <th>ServiceUrl</th>
                            <th>Checked</th>
                            
                            <th>Sites</th>
                            <th>Variables</th>
                            <th>Values</th>
                            <th>ServiceBoundingBox</th>
                        </tr>
                    </tfoot>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" id="cancelServiceSelection" class="btn btn-default alert-info" data-dismiss="modal">Cancel</button>
                <button type="button" id="saveServiceSelection" class="btn btn-default btn-primary" data-dismiss="modal">Save Selection</button>
            </div>

            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
</div>
<div class="modal fade full-screen" id="SeriesModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog-full">
        <div class="modal-content-full">
            <div class="modal-header-full">
                <button type="button" class="close" data-dismiss="modal" ariahidden="true">&times;</button>
                <h3 class="modal-title" id="myModalLabel">List of Timeseries in area</h3>
                <h5 style="margin-bottom: 1em;">To download one or more time series (in CSV format), please click the associated table row(s) and then click the 'Download Selections' button.</h5>
            </div>
            <div class="modal-body-full">
                <table id="dtMarkers" class="display" width="100%" cellspacing="0">
                    <thead>
                        <tr>
                            <th>SeriesId</th>
                            <th>ServCode</th>
                            <th>ServURL</th>
                            <th>SiteCode</th>
                            <th>VariableCode</th>
                            <th>VariableName</th>
                            <th>BeginDate</th>
                            <th>EndDate</th>
                            <th>ValueCount</th>
                            <th>SiteName</th>
                            <th>Latitude</th>
                            <th>Longitude</th>
                            <th>DataType</th>
                            <th>ValueType</th>
                            <th>SampleMedium</th>
                            <th>TimeUnit</th>
                            <th>GeneralCategory</th>
                            <th>TimeSupport</th>
                            <th>ConceptKeyword</th>
                            <th>IsRegular</th>
                            <th>VariableUnits</th>
                            <th>Citation</th>
                        </tr>
                    </thead>

                    <tfoot>
                        <tr>
                            <th>SeriesId</th>
                            <th>ServCode</th>
                            <th>ServURL</th>
                            <th>SiteCode</th>
                            <th>VariableCode</th>
                            <th>VariableName</th>
                            <th>BeginDate</th>
                            <th>EndDate</th>
                            <th>ValueCount</th>
                            <th>SiteName</th>
                            <th>Latitude</th>
                            <th>Longitude</th>
                            <th>DataType</th>
                            <th>ValueType</th>
                            <th>SampleMedium</th>
                            <th>TimeUnit</th>
                            <th>GeneralCategory</th>
                            <th>TimeSupport</th>
                            <th>ConceptKeyword</th>
                            <th>IsRegular</th>
                            <th>VariableUnits</th>
                            <th>Citation</th>
                        </tr>
                    </tfoot>
                </table>
            </div>
            <div class="modal-footer-full">
                @*<span>
                        @Html.ActionLink("Download as CSV", "downloadFile", "Export", new { id = 1 }, new { @class = "btn btn-info active pull-right", target = "_blank" })
                    </span>
                    <button id="DownloadAsCSV" type="button" class="btn btn-default">Download Selected as CSV</button>*@
            </div>

            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
</div>
@*<div id="context-menu">
        <ul class="dropdown-menu" role="menu">
            <li><a tabindex="-1" id="DownloadAsCSV" href="#">Download as CSV</a></li>
            <li><a tabindex="-1" href="#">Add to DataCart</a></li>
        </ul>
    </div>*@
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
        </div><!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

@*<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/jquery-ui.min.js"></script>*@

<script src="~/Scripts/Google/markerwithlabel.js"></script>
@*<script src="//cdn.datatables.net/1.10.4/js/jquery.dataTables.min.js"></script>*@
<script src="~/Scripts/jquery.dataTables.js"></script>
<script src="//cdn.datatables.net/colvis/1.1.1/js/dataTables.colVis.min.js"></script>


<script src="~/Scripts/Google/keydragzoom_packed.js"></script>
@*<script src="~/Scripts/bootstrap-contextmenu.js"></script>*@
<script src="~/Scripts/Custom/webclient.js"></script>
<script src="~/Scripts/Custom/randomId.js"></script>
<script src="~/Scripts/Custom/freezeEnum.js"></script>
<script src="~/Scripts/Custom/TimeSeriesRequestStatus.js"></script>
<script src="~/Scripts/Fancytree/jquery-ui.custom.js"></script>
<script src="~/Scripts/Fancytree/jquery.fancytree.js"></script>
<script src="~/Scripts/Fancytree/jquery.fancytree.filter.js"></script>
<script src="~/Scripts/Fancytree/jquery.fancytree.childcounter.js"></script>
<script src="~/Scripts/Fancytree/sample.js"></script>
<script src="~/Scripts/bootstrap-datepicker.js"></script>
<script src="~/Scripts/Custom/jquery-filedownload.js"></script>
<script src="~/Scripts/jquery.slidereveal.min.js"></script>